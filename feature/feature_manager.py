import tqdm

from utils.utils import get_file_name


class FeatureManager:
    @staticmethod
    def extract_feature(file_list, obj, params):
        params = dict() if params is None else params
        feature = obj(**params)

        feature_list = list()
        for path in tqdm.tqdm(file_list):
            feature.fit(path)

            uid = get_file_name(path)
            values = feature.get_string()

            feature_list.append((uid, values))

        return feature_list
